<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天干地支五行工具</title>
	<link href="https://cdn.jsdelivr.net/npm/calendar.js@0.4.1/css/calendar.css" rel="stylesheet" type="text/css">
	<script src="https://cdn.jsdelivr.net/npm/calendar.js@0.4.1/index.global.js"></script>
	<script src="wuxing.js"></script>
</head>

<body>
    <h1>公历转农历和天干地支</h1>
    <label for="inputDate">输入公历日期：</label>
    <input type="date" id="inputDate">
    <button onclick="convertToLunar()">转换</button>
    <p id="lunarResult"></p>

    <script>
	  
        function convertToLunar() {
            const inputDate = document.getElementById("inputDate").value;
            const [year, month, day] = inputDate.split("-");
			var converter = new CalenderUtils();
			var solar = new Solar();
			solar.solarYear = year;
			solar.solarMonth = month;
			solar.solarDay = day;
			var lunar = converter.SolarToLunar(solar);
            const lunarDateString = `${lunar.lunarYear}年${lunar.lunarMonth}月${lunar.lunarDay}日`;
            const heavenlyStem = "甲乙丙丁戊己庚辛壬癸";
            const earthlyBranch = "子丑寅卯辰巳午未申酉戌亥";
            const yearHeavenlyStem = heavenlyStem.charAt((lunarDate.lYear - 4) % 10);
            const yearEarthlyBranch = earthlyBranch.charAt((lunarDate.lYear - 4) % 12);
            document.getElementById("lunarResult").textContent = `农历日期：${lunarDateString}，天干地支：${yearHeavenlyStem}${yearEarthlyBranch}`;
        }
    </script>
</body>
</html>
