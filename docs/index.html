<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天干地支五行工具</title>
	<link href="https://cdn.jsdelivr.net/npm/calendar.js@0.4.1/css/calendar.css" rel="stylesheet" type="text/css">
	<!-- <script src="https://cdn.jsdelivr.net/npm/calendar.js@0.4.1/index.global.js"></script> -->
	<script src="./calendar.js"></script>
</head>

<body>
    <h1>公历转农历和天干地支</h1>
    <label for="inputDate">输入公历日期：</label>
    <input type="date" id="inputDate">
    <button onclick="convertToLunar()">转换</button>
    <p id="lunarResult"></p>

    <script>
	  var calendar = new Calendar({
		  step: step, // 最多显示从本月开始的step个月
		  leastDays: leastdays, // 最少选择天数
		  callback: fn, // 回调函数，默认有两个数组参数，第一个是所选开始时间和结束时间，第二个是开始时间和结束时间对应的element索引
		  priceData: priceData // 价格数据数组集合，如果没有，则为null
	  }).init();
	  
        function convertToLunar() {
            const inputDate = document.getElementById("inputDate").value;
            const [year, month, day] = inputDate.split("-");
            const lunarDate = calendar.solar2lunar(parseInt(year), parseInt(month), parseInt(day));
            const lunarDateString = `${lunarDate.lYear}年${lunarDate.lMonth}月${lunarDate.lDay}日`;
            const heavenlyStem = "甲乙丙丁戊己庚辛壬癸";
            const earthlyBranch = "子丑寅卯辰巳午未申酉戌亥";
            const yearHeavenlyStem = heavenlyStem.charAt((lunarDate.lYear - 4) % 10);
            const yearEarthlyBranch = earthlyBranch.charAt((lunarDate.lYear - 4) % 12);
            document.getElementById("lunarResult").textContent = `农历日期：${lunarDateString}，天干地支：${yearHeavenlyStem}${yearEarthlyBranch}`;
        }
    </script>
</body>
</html>
